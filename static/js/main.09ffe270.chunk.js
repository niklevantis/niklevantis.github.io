(this["webpackJsonpbreathing-dots"]=this["webpackJsonpbreathing-dots"]||[]).push([[0],{78:function(e,t,r){},89:function(e,t,r){"use strict";r.r(t);var n=r(9),a=r(1),s=r(60),c=r.n(s),i=r(69),o=r(15),u=(r(78),r(12)),l=r(10),f=r(16),j=r(24),d=r(25),h=r(6),b=r(72),v=r(37),m=r(61),p=r(29),g=r(62),O=r(63);Object(d.d)({EffectComposer:b.a,ShaderPass:v.a,SavePass:m.a,RenderPass:O.a});var x={uniforms:{tDiffuse1:{value:null},tDiffuse2:{value:null},tDiffuse3:{value:null}},vertexShader:"\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1);\n    }\n  ",fragmentShader:"\n    varying vec2 vUv;\n    uniform sampler2D tDiffuse1;\n    uniform sampler2D tDiffuse2;\n    uniform sampler2D tDiffuse3;\n    \n    void main() {\n      vec4 del0 = texture2D(tDiffuse1, vUv);\n      vec4 del1 = texture2D(tDiffuse2, vUv);\n      vec4 del2 = texture2D(tDiffuse3, vUv);\n      // min alpha hides until all buffers are full\n      float alpha = min(min(del0.a, del1.a), del2.a);\n      gl_FragColor = vec4(del0.r, del1.g, del2.b, alpha);\n    }\n  "};function S(){var e=Object(a.useRef)(),t=Object(a.useRef)(),r=Object(a.useRef)(),s=Object(a.useRef)(!1),c=Object(d.g)(),i=c.scene,o=c.gl,u=c.size,l=c.camera,f=Object(a.useMemo)((function(){return{rtA:new h.WebGLRenderTarget(u.width,u.height),rtB:new h.WebGLRenderTarget(u.width,u.height)}}),[u]),j=f.rtA,b=f.rtB,v=o.getPixelRatio();return Object(a.useEffect)((function(){e.current.setSize(u.width,u.height)}),[u]),Object(d.f)((function(){e.current.render();var n=s.current?b:j,a=s.current?j:b;t.current.renderTarget=a,r.current.uniforms.tDiffuse2.value=n.texture,r.current.uniforms.tDiffuse3.value=a.texture,s.current=!s.current}),1),Object(n.jsxs)("effectComposer",{ref:e,args:[o],children:[Object(n.jsx)("renderPass",{attachArray:"passes",scene:i,camera:l}),Object(n.jsx)("shaderPass",{attachArray:"passes",ref:r,args:[x,"tDiffuse1"],needsSwap:!1}),Object(n.jsx)("savePass",{attachArray:"passes",ref:t,needsSwap:!0}),Object(n.jsx)("shaderPass",{attachArray:"passes",args:[g.a],"uniforms-resolution-value-x":1/(u.width*v),"uniforms-resolution-value-y":1/(u.height*v)}),Object(n.jsx)("shaderPass",{attachArray:"passes",args:[p.a]})]})}var y=r(67),w=r(71),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1;return 2*r/Math.PI*Math.atan(Math.sin(2*Math.PI*e*n)/t)};function M(e){var t=e.ticksSpring,r=e.clickSpring,s=(e.duration,Object(j.a)(e,["ticksSpring","clickSpring","duration"])),c=Object(a.useRef)(),i=Object(a.useMemo)((function(){var e=new h.Vector3,t=new h.Matrix4;return{vec:e,right:new h.Vector3(1,0,0),transform:t,vec3Mouse:new h.Vector3,focus:new h.Vector3,positions:Object(f.a)(Array(1e4)).map((function(e,t){var r=new h.Vector3;return r.x=t%100-50,r.y=Math.floor(t/100)-50,r.y+=t%2*.5,r.x+=.009*Math.random(),r.y+=.009*Math.random(),r}))}}),[]),o=i.vec,u=i.right,b=i.transform,v=i.vec3Mouse,m=i.focus,p=i.positions;return Object(d.f)((function(e){var n=e.mouse,a=e.viewport;v.x=n.x*a.width/2,v.y=n.y*a.height/2;for(var s=0;s<1e4;++s){m.copy(v).multiplyScalar(r.get()),o.copy(p[s]).sub(m);var i=o.length()+.5*Math.cos(1*o.angleTo(u)),l=t.get()/2+.5-i/100,f=k(l,.15+.2*i/72,.4,1);o.multiplyScalar(f+.1).add(m),b.setPosition(o),c.current.setMatrixAt(s,b)}c.current.instanceMatrix.needsUpdate=!0})),Object(n.jsxs)("instancedMesh",Object(l.a)(Object(l.a)({args:[null,null,1e4],ref:c},s),{},{children:[Object(n.jsx)("circleBufferGeometry",{args:[.1,1]}),Object(n.jsx)("meshBasicMaterial",{color:"white"})]}))}function D(){var e=Object(a.useState)(0),t=Object(u.a)(e,2),r=t[0],s=t[1],c=Object(y.useSpring)({ticksSpring:r,clickSpring:r%0===1?1:0,config:{tension:90,friction:90,clamp:!0}}),i=c.ticksSpring,o=c.clickSpring,f={onPointerDown:function(e){e.target.setPointerCapture(e.pointerId),s(r+1)},onPointerUp:function(){r%2===1&&(o.get()>.5?s(r+1):s(r-1))}};return Object(n.jsxs)(d.a,Object(l.a)(Object(l.a)({orthographic:!0,colorManagement:!1,camera:{position:[0,0,100],zoom:20},resize:{polyfill:w.a}},f),{},{children:[Object(n.jsx)("color",{attach:"background",args:["black"]}),Object(n.jsx)(M,{ticksSpring:i,clickSpring:o,duration:3.8}),Object(n.jsx)(S,{})]}))}function P(){return Object(n.jsxs)(i.a,{basename:"/",children:[Object(n.jsxs)("div",{className:"frame",children:[Object(n.jsxs)("h1",{className:"frame__title",children:[Object(n.jsx)("a",{href:"https://nicklevantis.com",children:"Nick Levantis"}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("div",{className:"frame__links",children:[Object(n.jsx)("a",{href:"https://youtube.com/nicklevantis",children:"Youtube"}),Object(n.jsx)("a",{href:"https://soundcloud.com/nicklevantis",children:"Soundcloud"}),Object(n.jsx)("a",{href:"https://nicklevantis.svbtle.com",children:"Svbtle"})]}),Object(n.jsx)("div",{className:"frame__demos"})]}),Object(n.jsx)("div",{className:"content",children:Object(n.jsx)("h2",{className:"content__title",children:"\u25c9"})}),Object(n.jsx)("div",{id:"animation",children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:"/demo1",children:Object(n.jsx)(D,{})}),Object(n.jsx)(o.b,{path:"*",children:Object(n.jsx)(o.a,{to:"/demo1"})})]})})]})}c.a.render(Object(n.jsx)(P,{}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.09ffe270.chunk.js.map