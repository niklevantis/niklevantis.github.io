! function (t) {
    function e() {
        var e = t(".active .content-wrap").scrollTop(),
            n = t(".active .content-inner-wrap").height() - t(window).height();
        e >= n - 40 ? t(".active .content-wrap").stop().animate({
            scrollTop: 0
        }, 1500, "easeInOutQuart") : t(".active .content-section").each(function (n) {
            var a = t(this).offset().top;
            return a > 40 ? (t(".active .content-wrap").stop().animate({
                scrollTop: a + e
            }, 750, "easeInOutQuart"), !1) : void 0
        })
    }

    function n() {
        var e = t(".active .content-wrap").scrollTop();
        0 != e && t(".active .content-section").each(function (n) {
            var a = t(this).offset().top,
                o = -(2 * t(window).height());
            return 40 > a && a > o ? (t(".active .content-wrap").stop().animate({
                scrollTop: a + e
            }, 750, "easeInOutQuart"), !1) : void 0
        })
    }
    var a = 0,
        o = 0;
    t.fn.rotate = function (t) {
        this.css({
            transform: "rotate(" + t + "deg)",
            "-ms-transform": "rotate(" + t + "deg)",
            "-moz-transform": "rotate(" + t + "deg)",
            "-o-transform": "rotate(" + t + "deg)",
            "-webkit-transform": "rotate(" + t + "deg)"
        })
    }, t.fn.rotateBody = function (e) {
        t(".section-wrap").toggleClass("active"), this.rotate(e)
    }, t.fn.rotateLang = function (t) {
        this.children().toggleClass("hidden"), this.rotate(t)
    }, t(".lang-select").click(function () {
        a += 180, o += 360, t(".rotation-wrap").rotateBody(a), t(".lang-select").rotateLang(o)
    }), t("nav a").click(function (e) {
        e.preventDefault();
        var n = t(this).attr("href"),
            a = Math.abs(t(n).offset().top);
        t(".active .content-wrap").stop().animate({
            scrollTop: a
        }, 1500, "easeInOutQuart")
    }), t(".section-wrap").click(function () {
        t(this).hasClass("active") || (a += 180, o += 360, t(".rotation-wrap").rotateBody(a), t(".lang-select").rotateLang(o))
    }), t(".content-footer, .intro").click(function () {
        e()
    });
    var i = 0;
    t(".content-wrap").scroll(function () {
        $this = t(this);
        var e = $this.scrollTop();
        i++, 2 == i && (i = 0, t(".content-wrap").not($this).scrollTop(e))
    }), t(document).ready(function () {
        t(window).resize(function () {
            wH = t(window).height(), t(".site-wrap, .content-wrap").height(wH), t(".content-section").css("min-height", wH)
        }).resize(), t(".mailing-input").on("input", function () {
            var e = t(".mailing-input"),
                n = t(this),
                a = e.not(n),
                o = n.val();
            a.val(o), e.val().length > 0 ? t(".mailing-submit").addClass("enabled") : t(".mailing-submit").removeClass("enabled")
        }).click(function () {
            t(this).attr("placeholder", t(this).data("entry"))
        }), t(document).on("click", function (e) {
            t(e.target).closest(".mailing-input").length || t(".mailing-input").each(function () {
                t(this).attr("placeholder", t(this).data("placeholder"))
            })
        })
    }), t(window).load(function () {
        t("body").removeClass("loading"), t("#en-content .content-section").each(function (e) {
            var n = t(this),
                a = t("#gr-content .content-section").eq(e),
                o = [n, a],
                i = [n.outerHeight(), a.outerHeight()];
            if (i[0] !== i[1]) {
                var c = i.indexOf(Math.min.apply(Math, i)),
                    r = o[c],
                    s = Math.max.apply(Math, i);
                r.css("min-height", s)
            }
        }), t(".content-wrap").eq(1).scrollTop(t(".content-wrap").eq(0).scrollTop())
    }), t(document).keydown(function (i) {
        switch (i.which) {
            case 37:
                a -= 180, o -= 360, t(".rotation-wrap").rotateBody(a), t(".lang-select").rotateLang(o);
                break;
            case 38:
            case 33:
                n();
                break;
            case 39:
                a += 180, o += 360, t(".rotation-wrap").rotateBody(a), t(".lang-select").rotateLang(o);
                break;
            case 40:
            case 34:
                e();
                break;
            case 36:
                t(".active .content-wrap").stop().animate({
                    scrollTop: 0
                }, 1500, "easeInOutQuart");
                break;
            case 35:
                t(".active .content-wrap").stop().animate({
                    scrollTop: t(".active .content-inner-wrap").height() - t(window).height()
                }, 1500, "easeInOutQuart");
                break;
            default:
                return
        }
        i.preventDefault()
    })
}(jQuery);
