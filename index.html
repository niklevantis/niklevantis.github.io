<!DOCTYPE html>
<html>
<head>

  <style>
  body {
    width:  100%;
    height: 100%;
    margin: 0px;

  }
  a {
    color: #000111;
    opacity: 0.9;
    padding: 2px;

  }
  a:hover {
    color: white;
    padding: 2px;
    background-color: black;
    opacity: 0.9;
  }
  a:visited {
    text-decoration: none;
  }
  #top_bar {
    margin: 0px;
  }
  #gen_algorithm {
    overflow-y: auto;
    display: block;
    width: 35%;
    margin-top: 20px;
    padding: 5px;
    font-family: "courier","menlo", "helvetica", sans-serif;
    float: right;
    z-index: -2;
  }


  #code {
    color: #000;
    font-size: 16px;
    position: fixed;
    bottom: 25px;
  }
  #code span {
    color: #777;
    font-size: 14px;

  }

  #about {
    color: #000;
    font-size: 16px;}

  #about span {
      color: #666;
      font-size: 14px;
    }




  #title {
    font-family: "menlo", "helvetica", sans-serif;
    font-size: 14px;
    color: #000;
    margin-left: 15px;
    line-height: 62px;
    float: left;
    letter-spacing: 1px
  }
  #link {
    font-family:"courier", "menlo", "helvetica", sans-serif;
    font-size: 15px;
    color: #000;
    opacity: 0.8;
    line-height: 40px;
    float: left;
  }
  canvas {
    position: absolute;
    z-index: -1;

  }


  .var-highlight {
    color: #C0AD60;
  }

  .string-highlight {
    color: rgba(253, 149, 90, 0.8);
  }

  #typewriter {
    margin: 0;
  }
  #typewriter:after {
    content: "_";
    font-size: 18px;
    -webkit-animation: blink 400ms linear infinite alternate;
            animation: blink 400ms linear infinite alternate;
  }

  @-webkit-keyframes blink {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
  @keyframes blink {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }


  </style>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Nick Levantis</title>
<meta property="og:title" content="Nick Levantis">
<meta property="og:description" content="">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Nick Levantis">
<meta property="og:locale" content="en_US">
</head>
<body>
  <script type="text/javascript" src="js/midiout.js"></script>
  <script type="text/javascript" src="js/synth.js"></script>
  <script type="text/javascript" src="js/generator.js"></script>
  <script type="text/javascript" src="js/sequencer.js"></script>
  <script type="text/javascript" src="js/helpers.js"></script>
  <canvas id="colorCanvas"></canvas>
  <div id="top_bar">

    <div id="title">NICK_LEVANTIS
</div>

  </div>


  <div id="gen_algorithm">

  <div id="about">about:<span id="typewriter">
  Nick experiments with coding and creates
  pieces of electronic music and visuals.
  More on <a href="https://soundcloud.com/nicklevantis" target="_blank">soundcloud</a>,<a href="https://youtube.com/nicklevantis" target="_blank">youtube</a> and <a href="https://nicklevantis.svbtle.com" target="_blank">svbtle</a>. Click anywhere to start generative music.</span></br>
  </div>
</br></br></br></br>
  <div id="code">generative code: </div></br></br>



  </div>

</body>

<script>
const NUMBER_OF_ALGORITHMS = 1;

var GenerativeAlgorithm = {
  load: function(src, callback) {
    var script = document.createElement('script'),loaded;
    script.setAttribute('src', src);
    if (callback) {
      script.onreadystatechange = script.onload = function() {
        if (!loaded) {
          callback();
        }
        loaded = true;
      };
    }
    document.head.appendChild(script);
  }
}

GenerativeAlgorithm.load('genalgorithms/gen' + ((NUMBER_OF_ALGORITHMS-1)*Math.random()+1).toFixed(0) + '.js', function() {
  document.getElementById("code").innerHTML += '<span >'+f+'</span>';
});

// Page layout
var canvas = document.getElementById("colorCanvas");
var ctx = canvas.getContext("2d");


ctx.canvas.width  = window.innerWidth;
ctx.canvas.height = window.innerHeight;

var AudioContext = window.AudioContext || window.webkitAudioContext;
var ac = new AudioContext();

var scope = ac.createAnalyser();
var bufferLength = scope.frequencyBinCount;
var dataArray = new Uint8Array(bufferLength);
var fps = 60;

scope.fftSize = 2048;
scope.getByteTimeDomainData(dataArray);

drawWave();

function drawWave() {
  var sliceWidth = ctx.canvas.width * 1.1 / bufferLength;
  var x = 0;

  scope.getByteTimeDomainData(dataArray);

  ctx.lineWidth = 0.5;
  ctx.strokeStyle = '#000000';
  ctx.stroke();
  ctx.fillStyle = "white";
  setTimeout(function() {
       requestAnimationFrame(drawWave);

       ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
       ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
       ctx.beginPath();

       for(var i = 0; i < bufferLength; i++) {
         var v = dataArray[i] / 128.0;
         var y = v * ctx.canvas.height/2;

         if(i === 0) {
           ctx.moveTo(x, y);
         } else {
           ctx.lineTo(x, y);
         }
         x += sliceWidth;
       }
   }, 1000 / fps);

  ctx.lineTo(ctx.canvas.width, ctx.canvas.height);
  ctx.stroke();
};
</script>
<script>
function setupTypewriter(t) {
      var HTML = t.innerHTML;

      t.innerHTML = "";

      var cursorPosition = 0,
          tag = "",
          writingTag = false,
          tagOpen = false,
          typeSpeed = 100,
        tempTypeSpeed = 0;

      var type = function() {

          if (writingTag === true) {
              tag += HTML[cursorPosition];
          }

          if (HTML[cursorPosition] === "<") {
              tempTypeSpeed = 0;
              if (tagOpen) {
                  tagOpen = false;
                  writingTag = true;
              } else {
                  tag = "";
                  tagOpen = true;
                  writingTag = true;
                  tag += HTML[cursorPosition];
              }
          }
          if (!writingTag && tagOpen) {
              tag.innerHTML += HTML[cursorPosition];
          }
          if (!writingTag && !tagOpen) {
              if (HTML[cursorPosition] === " ") {
                  tempTypeSpeed = 0;
              }
              else {
                  tempTypeSpeed = (Math.random() * typeSpeed) + 50;
              }
              t.innerHTML += HTML[cursorPosition];
          }
          if (writingTag === true && HTML[cursorPosition] === ">") {
              tempTypeSpeed = (Math.random() * typeSpeed) + 50;
              writingTag = false;
              if (tagOpen) {
                  var newSpan = document.createElement("span");
                  t.appendChild(newSpan);
                  newSpan.innerHTML = tag;
                  tag = newSpan.firstChild;
              }
          }

          cursorPosition += 1;
          if (cursorPosition < HTML.length - 1) {
              setTimeout(type, tempTypeSpeed);
          }

      };

      return {
          type: type
      };
  }

  var typer = document.getElementById('typewriter');

  typewriter = setupTypewriter(typewriter);

  typewriter.type();
  </script>

</html>
