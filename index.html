<!DOCTYPE html>
<html>
<head>

  <style>
  body {
    width:  100%;
    height: 100%;
    margin: 0px;
  }
  a {
    color: #fffffffa;
    opacity: 0.5;
    padding: 2px;
    text-decoration: none;
  }
  a:hover {
    color: black;
    padding: 2px;
    background-color: white;
    opacity: 0.4;
  }
  a:visited {
    text-decoration: none;
  }
  #top_bar {
    margin: 0px;
  }
  #gen_algorithm {
    overflow-y: auto;
    display: block;
    width: 35%;
    margin-top: 20px;
    padding: 5px;
    font-family: "menlo", "helvetica", sans-serif;
    float: right;
    z-index: -2;

  }


  #code {
    color: #ffffff7a;
    font-size: 14px;
  }
  #code span {
    color: #ffffff4a;
    font-size: 12px;

  }

  #about {
    color: #ffffff7a;
    font-size: 15px;}

  #about span {
      color: #ffffff4a;
      font-size: 12px;
    }


  #title {
    font-family: "menlo", "helvetica", sans-serif;
    font-size: 13px;
    color: #777777;
    margin-left: 15px;
    line-height: 62px;
    float: left;
    letter-spacing: 1px
  }
  #link {
    font-family: "menlo", "helvetica", sans-serif;
    font-size: 15px;
    color: #fff;
    opacity: 0.8;
    line-height: 40px;
    float: left;
  }
  canvas {
    position: absolute;
    z-index: -1;
  }




  </style>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Nick Levantis</title>
<meta property="og:title" content="Nick Levantis">
<meta property="og:description" content="">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Nick Levantis">
<meta property="og:locale" content="en_US">
</head>
<body>
  <script type="text/javascript" src="js/midiout.js"></script>
  <script type="text/javascript" src="js/synth.js"></script>
  <script type="text/javascript" src="js/generator.js"></script>
  <script type="text/javascript" src="js/sequencer.js"></script>
  <script type="text/javascript" src="js/helpers.js"></script>
  <canvas id="colorCanvas"></canvas>
  <div id="top_bar">

    <div id="title">NICK LEVANTIS</div>
  </div>


  <div id="gen_algorithm">

  <div id="about">about ==> <span>Nick experiments and creates pieces of electronic music. More on <a href="https://soundcloud.com/nicklevantis" target="_blank">soundcloud</a>,<a href="https://youtube.com/nicklevantis" target="_blank">youtube</a>&<a href="https://nicklevantis.svbtle.com" target="_blank">svbtle</a></span></br>
  </div>
</br></br></br></br>
  <div id="code">click gen code ==> </div></br></br>



  </div>

</body>

<script>
const NUMBER_OF_ALGORITHMS = 1;

var GenerativeAlgorithm = {
  load: function(src, callback) {
    var script = document.createElement('script'),loaded;
    script.setAttribute('src', src);
    if (callback) {
      script.onreadystatechange = script.onload = function() {
        if (!loaded) {
          callback();
        }
        loaded = true;
      };
    }
    document.head.appendChild(script);
  }
}

GenerativeAlgorithm.load('genalgorithms/gen' + ((NUMBER_OF_ALGORITHMS-1)*Math.random()+1).toFixed(0) + '.js', function() {
  document.getElementById("code").innerHTML += '<span>'+f+'</span>';
});

// Page layout
var canvas = document.getElementById("colorCanvas");
var ctx = canvas.getContext("2d");
ctx.canvas.width  = window.innerWidth;
ctx.canvas.height = window.innerHeight;

var AudioContext = window.AudioContext || window.webkitAudioContext;
var ac = new AudioContext();

var scope = ac.createAnalyser();
var bufferLength = scope.frequencyBinCount;
var dataArray = new Uint8Array(bufferLength);
var fps = 60;

scope.fftSize = 2048;
scope.getByteTimeDomainData(dataArray);

drawWave();

function drawWave() {
  var sliceWidth = ctx.canvas.width * 1.1 / bufferLength;
  var x = 0;

  scope.getByteTimeDomainData(dataArray);

  ctx.lineWidth = 0.2;
  ctx.strokeStyle = '#999999';
  ctx.stroke();

  setTimeout(function() {
       requestAnimationFrame(drawWave);

       ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
       ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
       ctx.beginPath();

       for(var i = 0; i < bufferLength; i++) {
         var v = dataArray[i] / 128.0;
         var y = v * ctx.canvas.height/2;

         if(i === 0) {
           ctx.moveTo(x, y);
         } else {
           ctx.lineTo(x, y);
         }
         x += sliceWidth;
       }
   }, 1000 / fps);

  ctx.lineTo(ctx.canvas.width, ctx.canvas.height);
  ctx.stroke();
};
</script>

</html>
