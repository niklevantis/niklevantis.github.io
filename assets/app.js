var monologue,bitcoinPrice,dayOfWeek,body=document.body,html=document.documentElement,cursor=document.getElementById("cursor"),monologueContainer=document.getElementById("monologueContainer"),fullscreenContainer=document.getElementById("fullscreenContainer"),whiteLoadingScreen=document.getElementById("whiteLoadingScreen"),playVideo=document.getElementById("playVideo"),backgroundText=document.getElementById("backgroundText"),encryption=document.getElementById("encryption"),siteNoticeContainer=document.getElementById("siteNoticeContainer"),captionToggle=document.getElementById("captionToggle"),shareOnTwitter=document.getElementById("shareOnTwitter"),aslVideoHappened=!1,captionContainer=document.getElementById("captionContainer"),windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0);

console.log("Nick Levantis");
function createVideo(){monologue=document.createElement("video"),monologue.id="monologue";var e=document.createElement("source");e.type="video/mp4",e.src="assets/video/Broken.mp4",monologue.setAttribute("webkit-playsinline","webkit-playsinline"),monologue.setAttribute("playsinline","playsinline"),monologue.appendChild(e),monologue.addEventListener("click",function(){monologue.classList.contains("loaded")&&(monologue.play(),monologue.classList.add("playing"))}),monologueContainer.appendChild(monologue),monologue.load()}function turnBackgroundBlack(){body.classList.add("blackBackground")}function growVideoPlayer(){monologueContainer.classList.add("larger")}function spinVideoPlayer(){monologueContainer.classList.add("spin"),monologueContainer.addEventListener("animationend",function(){monologueContainer.classList.remove("spin")})}function turnBackgroundYellow(){backgroundText.classList.add("disappear"),body.classList.add("yellowBackground"),body.classList.remove("blackBackground")}function shakeTheScreen(){body.classList.add("shake"),body.addEventListener("animationend",function(){body.classList.remove("shake")})}function displayBuyNowButtons(){buyNowButtonContainer.classList.add("loaded"),buyNowButtonContainer.classList.add("active")}function hideBuyNowButtons(){buyNowButtonContainer.classList.remove("active")}function blurTheVideo(){monologue.classList.add("blurred")}function encryptTheScreen(){encryption.classList.add("visible"),setTimeout(function(){body.classList.remove("yellowBackground"),monologueContainer.classList.remove("larger")},1e3)}function disableEncryptedScreen(){encryption.classList.add("hidden")}function getBitcoinPrice(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);bitcoinPrice=e.bpi.USD.rate.slice(0,-2)}},e.open("GET","https://api.coindesk.com/v1/bpi/currentprice.json",!0),e.send()}setTimeout(function(){backgroundText.classList.add("loaded")},1e3),createVideo(),setTimeout(function(){monologueContainer.className="loaded",cursor.classList.add("loaded"),siteNoticeContainer.classList.add("loaded"),captionToggle.classList.add("loaded")},4e3),captionToggle.addEventListener("click",function(){captionToggle.classList.toggle("on"),captionContainer.classList.toggle("visible")}),monologue.addEventListener("timeupdate",function(){0<monologue.currentTime&&monologue.currentTime<1&&shakeTheScreen(),5<monologue.currentTime&&monologue.currentTime<6&&turnBackgroundBlack(),16<monologue.currentTime&&monologue.currentTime<17&&growVideoPlayer(),31<monologue.currentTime&&monologue.currentTime<32&&spinVideoPlayer(),46<monologue.currentTime&&monologue.currentTime<47&&shakeTheScreen()});function endOfVideo(){cursor.classList.remove("pause"),cursor.classList.add("reload"),captionContainer.textContent=""}
function updateCursorPosition(e){scrollTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,cursorLeft=e.pageX+"px",cursorTop=e.pageY-scrollTop+"px",cursor.style.top=cursorTop,cursor.style.left=cursorLeft}document.addEventListener("mousemove",function(e){updateCursorPosition(e)}),setTimeout(function(){document.addEventListener("click",function(e){if(cursor.classList.contains("pause")){if(body.classList.contains("pause")||"captionToggle"===e.target.id||"reload" ===e.target.id)return;cursor.classList.remove("pause"),cursor.classList.add("play"),monologue.pause(),body.classList.add("videoIsPaused")}else if(cursor.classList.contains("play")){if(e.target.classList.contains("siteNotice")||"captionToggle"===e.target.id||"reload"===e.target.id)return;cursor.classList.add("pause"),cursor.classList.remove("play"),monologue.play(),body.classList.remove("videoIsPaused")}else{if(e.target.classList.contains("siteNotice")||"captionToggle"===e.target.id||"reload"===e.target.id)return;cursor.classList.remove("pause"),cursor.classList.add("reload"),whiteLoadingScreen.classList.add("active"),whiteLoadingScreen.addEventListener("animationend",function(){location.reload()})}})},4e3);
for(var captionCues=[{time:0,text:"Experimentation with visuals and music coding"},{time:88,text:"Algorithmic music"},{time:36,text:"Experimentation with visuals and music coding"}, {time:96,text:"Visit https://youtube.com/nicklevantis for more videos"}],_loop=function(e){monologue.addEventListener("timeupdate",function(){monologue.currentTime>captionCues[e].time&&monologue.currentTime<captionCues[e].time+1&&(captionContainer.textContent=captionCues[e].text)})},i=0;i<captionCues.length;i++)_loop(i);
